<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Visualizations</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body class="bg-light">
<div class="container py-5">
<h1 class="mb-4">Incident Data Visualizations</h1>

{% if message %}
<div class="alert alert-info">{{ message }}</div>
{% endif %}

{% if cluster_plot %}
<div class="card mb-5">
  <div class="card-header">Clustering of Incidents</div>
  <div class="card-body">
    <div id="cluster_plot"></div>
    <script>
      var cluster_data = {{ cluster_plot|safe }};
      Plotly.newPlot('cluster_plot', cluster_data.data, cluster_data.layout);
    </script>
  </div>
</div>
{% endif %}

{% if bar_plot %}
<div class="card mb-5">
  <div class="card-header">Incidents by Nature</div>
  <div class="card-body">
    <div id="bar_plot"></div>
    <script>
      var bar_data = {{ bar_plot|safe }};
      Plotly.newPlot('bar_plot', bar_data.data, bar_data.layout);
    </script>
  </div>
</div>
{% endif %}

{% if time_plot %}
<div class="card mb-5">
  <div class="card-header">Incidents Over Time</div>
  <div class="card-body">
    <div id="time_plot"></div>
    <script>
      var time_data = {{ time_plot|safe }};
      Plotly.newPlot('time_plot', time_data.data, time_data.layout);
    </script>
  </div>
</div>
{% endif %}
</div>
</body>
</html>
